// ============================================================
//         INVENTORY LOGIC TEST: EQUIP, KEEP, SWAP, CONSUME
// ============================================================

// --- 1. SETUP ---
Create Room Room1
Create Room Room2
Create Room Room3
Create Room Room4
Connect Room1 Room2 North
Connect Room2 Room3 East
Connect Room3 Room4 South
Set StartRoom Room1

Create Warrior Thorin
Enter Dungeon Thorin

// --- 2. ACTION: NEW EQUIP (Empty Slot) ---
// Room is empty, Thorin has nothing.
Place Sword Room1 0 10 5
PickUp Thorin Sword
// Result: Thorin now has [Sword (15 total stats)]. Room1 is now empty.

// --- 3. ACTION: KEEP (New Item is Weaker) ---
// Thorin has a Sword (15 stats). We place a weaker Dagger (5 stats).
Place sword Room1 0 2 3
// Logic: Thorin should check the Dagger, see it's worse, and NOT pick it up.
PickUp Thorin sword
// Expected: Error or Message saying "Current item is better." Item stays in Room1.

// --- 4. ACTION: SWAP (New Item is Better) ---
// To place a new item, we must move to an empty room (Room2).
Move Thorin North
// Thorin has Sword (10 STR). We place a Sword with 50 STR.
Place Sword Room2 0 50 10
// Logic: Thorin compares 15 total stats vs 60 total stats. 
// Result: He should drop the old Sword in Room2 and equip the new one.
PickUp Thorin Sword

// --- 5. ACTION: CONSUME (Instant Use) ---
Move Thorin East
// Room3 is empty. Place a potion.
Place HealthPotion Room3 100 0 0
// Logic: This should not fill an inventory slot. Stats should go up immediately.
PickUp Thorin HealthPotion

// --- 6. ACTION: FILL SECOND SLOT (Equip New) ---
// Thorin has [Sword]. He has an empty slot for a Shield.
Move Thorin South
Place Shield Room4 20 0 20
// Result: Thorin now has [Sword, Shield]. Inventory is now FULL (if Max=2).
PickUp Thorin Shield

// --- 7. ACTION: SWAP WITH FULL INVENTORY ---
// Room4 is now empty. Place a massive Shield.
Place Shield Room4 100 0 100
// Logic: Thorin should swap his old Shield for this new one.
PickUp Thorin Shield

// --- 8. VERIFICATION: PICKING UP THE TRASH ---
// Thorin just dropped a Shield in Room4 and a Sword in Room2.
// Let's bring in a second character to see if the items are actually on the floor.
Create Thief Garrett
Enter Dungeon Garrett
Move Garrett North
// Garrett should be able to pick up the Sword Thorin dropped in Room2.
PickUp Garrett Sword